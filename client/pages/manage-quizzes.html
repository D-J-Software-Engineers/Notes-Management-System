<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Manage Quizzes - Nsoma DigLibs</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <!-- Custom CSS -->
    <link rel="stylesheet" href="../assets/css/styles.css" />
    <link rel="stylesheet" href="../assets/css/admin.css" />
    <style>
      .brand-header {
        margin-bottom: 0.5rem !important;
      }
    </style>
  </head>

  <body class="bg-light">
    <header class="admin-nav">
      <div class="nav-container">
        <h1 class="nav-logo">Admin - Quizzes</h1>
        <div class="nav-user">
          <span id="adminName">Admin</span>
          <button class="btn-logout" id="logoutBtn">Logout</button>
        </div>
      </div>
    </header>

    <div class="container py-4">
      <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
          <h2 class="fw-bold brand-header">Manage Quizzes</h2>
          <p class="text-secondary">View and manage all uploaded quizzes</p>
        </div>
        <a
          href="upload-quiz.html"
          class="btn btn-primary rounded-pill px-4 shadow-sm"
        >
          + Add New Quiz
        </a>
      </div>

      <div class="card border-0 shadow-sm rounded-4 mb-4">
        <div class="card-body p-3">
          <div class="row g-2">
            <div class="col-md-4">
              <input
                type="text"
                id="searchInput"
                class="form-control rounded-pill border-light-subtle"
                placeholder="Search by title or subject..."
              />
            </div>
            <div class="col-md-2">
              <select
                id="levelFilter"
                class="form-select rounded-pill border-light-subtle"
              >
                <option value="">All Levels</option>
                <option value="o-level">O-Level</option>
                <option value="a-level">A-Level</option>
              </select>
            </div>
            <div class="col-md-2">
              <select
                id="classFilter"
                class="form-select rounded-pill border-light-subtle"
              >
                <option value="">All Classes</option>
              </select>
            </div>
            <div class="col-md-2">
              <button
                id="filterBtn"
                class="btn btn-secondary w-100 rounded-pill"
              >
                Filter
              </button>
            </div>
            <div class="col-md-2">
              <button
                id="resetBtn"
                class="btn btn-outline-secondary w-100 rounded-pill"
              >
                Reset
              </button>
            </div>
          </div>
        </div>
      </div>

      <div class="row g-4" id="quizzesGrid">
        <!-- Quizzes will be loaded here -->
        <div class="col-12 text-center py-5">
          <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Loading...</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div class="modal fade" id="deleteModal" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content border-0 shadow-lg rounded-4">
          <div class="modal-body text-center p-5">
            <div class="text-danger mb-4" style="font-size: 4rem">üóëÔ∏è</div>
            <h3 class="fw-bold mb-3">Delete Quiz?</h3>
            <p class="text-secondary mb-4">
              This action cannot be undone. Are you sure you want to remove this
              quiz?
            </p>
            <div class="d-flex gap-2 justify-content-center">
              <button
                type="button"
                class="btn btn-light px-4 rounded-pill"
                data-bs-dismiss="modal"
              >
                Cancel
              </button>
              <button
                type="button"
                id="confirmDeleteBtn"
                class="btn btn-danger px-4 rounded-pill"
              >
                Delete Quiz
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../assets/js/utils.js"></script>
    <script src="../assets/js/manage-quizzes.js"></script>
  </body>
</html>
